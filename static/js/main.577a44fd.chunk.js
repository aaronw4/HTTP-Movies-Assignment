(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(29),c=a.n(o),r=(a(39),a(32)),s=a(33),l=a(12),m=a(7),u=a(8),v=a(10),d=a(9),p=a(11),h=a(6),E=function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"saved-list"},i.a.createElement("h3",null,"Saved Movies:"),this.props.list.map(function(e){return i.a.createElement(h.c,{to:"/movies/".concat(e.id),key:e.id,activeClassName:"saved-active"},i.a.createElement("span",{className:"saved-movie"},e.title))}),i.a.createElement("div",{className:"home-button"},i.a.createElement(h.b,{to:"HTTP-Movies-Assignment/"},"Home")))}}]),t}(n.Component),f=a(13),b=a.n(f),g=function(e){var t=e.movie,a=t.title,n=t.director,o=t.metascore,c=t.stars.split(",");return i.a.createElement("div",{className:"movie-card"},i.a.createElement("h2",null,a),i.a.createElement("div",{className:"movie-director"},"Director: ",i.a.createElement("em",null,n)),i.a.createElement("div",{className:"movie-metascore"},"Metascore: ",i.a.createElement("strong",null,o)),i.a.createElement("h3",null,"Actors"),c.map(function(e){return i.a.createElement("div",{key:e,className:"movie-star"},e)}),i.a.createElement("div",null,i.a.createElement(h.b,{to:"HTTP-Movies-Assignment/update-movie/".concat(e.movie.id)},i.a.createElement("button",{className:"edit-button"},"Edit"))))},j=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(v.a)(this,Object(d.a)(t).call(this,e))).state={movies:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://arw-movie-database.herokuapp.com/api/movies/").then(function(t){return e.setState({movies:t.data})}).catch(function(e){return console.log(e.response)})}},{key:"render",value:function(){return i.a.createElement("div",{className:"movie-list"},this.state.movies.map(function(e){return i.a.createElement(O,{key:e.id,movie:e})}))}}]),t}(n.Component);function O(e){var t=e.movie;return i.a.createElement(h.b,{to:"HTTP-Movies-Assignment/movies/".concat(t.id)},i.a.createElement(g,{movie:t}))}var M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(v.a)(this,Object(d.a)(t).call(this,e))).fetchMovie=function(e){b.a.get("https://arw-movie-database.herokuapp.com/api/movies/".concat(e)).then(function(e){return a.setState({movie:e.data[0]})}).catch(function(e){return console.log(e.response)})},a.saveMovie=function(){(0,a.props.addToSavedList)(a.state.movie)},a.state={movie:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchMovie(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.id!==e.match.params.id&&this.fetchMovie(e.match.params.id)}},{key:"render",value:function(){return this.state.movie?i.a.createElement("div",{className:"save-wrapper"},i.a.createElement(g,{movie:this.state.movie}),i.a.createElement("div",{className:"save-button",onClick:this.saveMovie},"Save")):i.a.createElement("div",null,"Loading movie information...")}}]),t}(i.a.Component),S=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(v.a)(this,Object(d.a)(t).call(this,e))).handleTitle=function(e){a.setState({title:e.target.value})},a.handleDirector=function(e){a.setState({director:e.target.value})},a.handleMetascore=function(e){a.setState({metascore:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t={id:a.props.match.params.id,title:a.state.title,director:a.state.director,metascore:a.state.metascore,stars:a.state.stars};console.log(t),b.a.put("https://arw-movie-database.herokuapp.com/api/movies/".concat(a.props.match.params.id),t).then(function(e){window.location.replace("/movies/".concat(a.props.match.params.id)),console.log(e.data)}).catch(function(e){return console.log(e)})},a.state={id:"",title:"",director:"",metascore:"",stars:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://arw-movie-database.herokuapp.com/api/movies/".concat(this.props.match.params.id)).then(function(t){e.setState({id:t.data[0].id}),e.setState({title:t.data[0].title}),e.setState({director:t.data[0].director}),e.setState({metascore:t.data[0].metascore}),e.setState({stars:t.data[0].stars}),console.log(t.data[0])}).catch(function(e){return console.log(e.response)})}},{key:"render",value:function(){return console.log(this.state),this.state?i.a.createElement("div",null,i.a.createElement("h1",null,"Edit Movie Information"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("span",null,"Title: "),i.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleTitle}),i.a.createElement("br",null),i.a.createElement("span",null,"Director: "),i.a.createElement("input",{type:"text",name:"director",value:this.state.director,onChange:this.handleDirector}),i.a.createElement("br",null),i.a.createElement("span",null,"Metascore: "),i.a.createElement("input",{type:"text",name:"metascore",value:this.state.metascore,onChange:this.handleMetascore}),i.a.createElement("div",null,i.a.createElement("button",null,"Submit")))):i.a.createElement("div",null,"Loading....")}}]),t}(i.a.Component),k=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],c=function(e){o([].concat(Object(r.a)(a),[e]))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(E,{list:a}),i.a.createElement(l.a,{exact:!0,path:"HTTP-Movies-Assignment/",component:j}),i.a.createElement(l.a,{path:"HTTP-Movies-Assignment/movies/:id",render:function(e){return i.a.createElement(M,Object.assign({},e,{addToSavedList:c}))}}),i.a.createElement(l.a,{path:"HTTP-Movies-Assignment/update-movie/:id",render:function(e){return i.a.createElement(S,e)}}))};c.a.render(i.a.createElement(h.a,null,i.a.createElement(k,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.577a44fd.chunk.js.map